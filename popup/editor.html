<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>myEditor</title>
    <link href="../src/themes/default/default.css" rel="stylesheet" type="text/css">
    <link href="../src/themes/editor/editor.css" rel="stylesheet" type="text/css">
</head>

<body>
    <h1 id="article_title">MyEditor</h1>
    <button id="button_modify_title" type="button">Modify Page Title</button>
    <label for="editor_id">
        <textarea id="editor_id" name="content" style="width: 80%; height: 400%"></textarea>
    </label>

    <button id="button_save" type="button">Save</button>
    <button id="button_update" type="button">Update</button>

    <!--|||||||||||||||||||||||||JS part|||||||||||||||||||||||||||||||||||||||||||-->
    <script charset="utf-8" src="../src/kindeditor-all.js"></script>
    <script charset="utf-8" src="../src/lang/en.js"></script>
    <script charset="utf-8" src="../src/jQuery.min.js"></script>
    <script charset="utf-8" src="../editor.js"></script>
    <script>
        KindEditor.ready(function (K) {
            window.editor = K.create('#editor_id', {
                themeType: 'editor'
            });
            ReadPBWorkJson("sample.json", window.editor);
        });

        $('#button_save').click(function () {
            editor.sync();
            let new_context = $('#editor_id').val();
            alert("you click save!")
            // local data base API here to save change in local
        });

        $('#button_update').click(function () {

        });

        $('#button_modify_title').click(function () {
            let article_title_selector = $('#article_title');
            let new_title = prompt("Please enter a new Page title", article_title_selector.text());
            if (new_title) {
                article_title_selector.text(new_title);
            }
        })
    </script>

</body>

</html>